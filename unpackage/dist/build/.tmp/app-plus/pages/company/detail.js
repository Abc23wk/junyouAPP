(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/company/detail"],{"19cd":function(t,e,i){"use strict";var a=i("3412"),o=i.n(a);o.a},3412:function(t,e,i){},"4ed2":function(t,e,i){"use strict";i.r(e);var a=i("bb33"),o=i("f0c6");for(var s in o)"default"!==s&&function(t){i.d(e,t,function(){return o[t]})}(s);i("19cd");var n=i("2877"),r=Object(n["a"])(o["default"],a["a"],a["b"],!1,null,"5f064de3",null);e["default"]=r.exports},"7f7b":function(t,e,i){"use strict";(function(t,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,s=i("b86b"),n=i("73ad"),r=(i("65a4"),c(i("0db8")));function c(t){return t&&t.__esModule?t:{default:t}}var u={data:function(){return{det:!0,focus:!1,active:0,detail:{nature:1,size:1,schooling:1},job:{list:null,count:null,search:{count:!0,page:1,limit:10}},archives:{list:null,search:{arctype:1,page:1,limit:5}},open:!0}},onShow:function(){this.$store.getters.register&&this.detail.id&&(this.getFocus(),this.$store.getters.member.ac<2&&this.$store.dispatch("MemberAC"))},onPullDownRefresh:function(){this.refresher(),t.stopPullDownRefresh()},onReachBottom:function(){this.refresher()},onLoad:function(t){"stop"===t.det&&(this.det=!1),this.getCompanyDetail(t.id),this.getArchives(),o=new r.default({key:"I3ABZ-QPZW3-JIP3T-3AVMR-TRALT-77BFQ"})},methods:{getCompanyDetail:function(t){var e=this;(0,s.getCompanyDetail)({id:t}).then(function(t){var i=t.data;2e4===t.code?(e.detail=i.detail,e.$store.getters.register&&e.detail.id&&e.getFocus()):(0,n.$wuxToast)().show({type:"forbidden",text:"请求异常"})})},onClick:function(t){var e=t.detail.name;1!==e||this.job.list?this.active=1===e?1:0:(this.active=1,this.getJob())},getJob:function(){var t=this.job.search,e=this.job;(0,s.getJob)({companyid:this.detail.id,count:t.count,page:t.page,limit:t.limit}).then(function(t){var i=t.data;2e4===t.code?(e.count=i.list.count,e.list&&e.list.length>0?e.list=e.list.concat(i.list.rows):e.list=i.list.rows):(0,n.$wuxToast)().show({type:"forbidden",text:"请求异常"})})},refresher:function(){if(console.log(a(this.active," at pages/company/detail.vue:186")),1===this.active){var t=this.job;t.count>t.list.length?(t.search.page=t.search.page++,this.getJob()):((0,n.$wuxToast)().hide(),(0,n.$wuxToast)().show({type:"forbidden",text:"已加载全部"}))}},detailTo:function(e,i){1===i?t.navigateTo({url:"/pages/company/detail?det=stop&id="+e}):2===i?t.navigateTo({url:"/pages/job/detail?det=stop&id="+e}):3===i&&t.navigateTo({url:"/pages/article/detail?id="+e})},getFocus:function(){var t=this;(0,s.getFocus)({id:this.detail.id}).then(function(e){var i=e.data;2e4===e.code?t.focus=i.detail:(0,n.$wuxToast)().show({type:"forbidden",text:"请求异常"})})},addFocus:function(e){var i=this;this.$store.getters.register?(0,s.addFocus)({id:this.detail.id}).then(function(t){var e=t.data;2e4===t.code&&e.add?(i.focus=!0,(0,n.$wuxToast)().show({type:"success",text:"关注成功"})):2e4===t.code&&e.detail?(i.focus=!0,(0,n.$wuxToast)().show({type:"success",text:"已关注"})):(0,n.$wuxToast)().show({type:"forbidden",text:"请求异常"})}):t.navigateTo({url:"/pages/login/app"})},delFocus:function(e){var i=this;this.$store.getters.register?(0,s.delFocus)({id:this.detail.id}).then(function(t){var e=t.data;2e4===t.code&&e.del?(i.focus=!1,(0,n.$wuxToast)().show({type:"success",text:"已取消关注"})):(0,n.$wuxToast)().show({type:"forbidden",text:"请求异常"})}):t.navigateTo({url:"/pages/login/wx"})},getArchives:function(){var t=this.archives;(0,s.getArchives)(t.search).then(function(e){var i=e.data;2e4===e.code?t.list=i.list:(0,n.$wuxToast)().show({type:"forbidden",text:"请求异常"})})},openMap:function(){var e=this.open;if(e){e=!1;var i=this.detail;o.geocoder({address:i.province+i.city+i.area+i.info.address,success:function(i){var a=i.result.location;t.openLocation({latitude:a.lat,longitude:a.lng,success:function(){setTimeout(function(){e=!0},2e3)},fail:function(){e=!0}})}})}}}};e.default=u}).call(this,i("6e42")["default"],i("0de9")["default"])},bb33:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=(t._self._c,t._f("nature")(t.detail.nature)),a=t._f("size")(t.detail.size),o=t._f("industry")(t.detail.industry),s=t.__map(t.job.list,function(e,i){var a=parseFloat(e.salarystart.toString().length),o=parseFloat(e.salaryend.toString().length),s=t._f("numFilter")(e.salarystart/1e4),n=t._f("numFilter")(e.salaryend/1e4),r=parseFloat(e.salarystart.toString().length),c=parseFloat(e.salaryend.toString().length);return{$orig:t.__get_orig(e),m0:a,m1:o,f3:s,f4:n,m2:r,m3:c}});t.$mp.data=Object.assign({},{$root:{f0:i,f1:a,f2:o,l0:s}})},o=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return o})},c24f:function(t,e,i){"use strict";(function(t){i("dc02"),i("921b");a(i("66fd"));var e=a(i("4ed2"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("6e42")["createPage"])},f0c6:function(t,e,i){"use strict";i.r(e);var a=i("7f7b"),o=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);e["default"]=o.a}},[["c24f","common/runtime","common/vendor"]]]);