(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/job/index"],{"0b17":function(t,e,i){"use strict";var n=i("df5e"),l=i.n(n);l.a},"5f34":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("b86b"),l=d(i("ff47")),s=d(i("23e8")),r=d(i("f299")),o=d(i("74e2")),a=d(i("a852")),u=d(i("34b4")),c=d(i("cd8a")),h=i("73ad"),f=i("2f62");function d(t){return t&&t.__esModule?t:{default:t}}function g(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),n.forEach(function(e){b(t,e,i[e])})}return t}function b(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var p={computed:g({},(0,f.mapGetters)(["address"])),data:function(){return{ready:!1,filter:{active:null,industry:{items:r.default,show:!1,active:0,id:null,text:"全部行业"},salary:{show:!1,def:[0],value:null},publish:{items:s.default,show:!1,text:null,id:null},more:{show:!1,schooling:{items:o.default,text:null,id:null},working:{items:a.default,text:null,id:null},nature:{items:u.default,text:null,id:null},size:{items:c.default,text:null,id:null},type:{items:[{text:"全职",id:1},{text:"兼职",id:2},{text:"实习",id:3}],text:null,id:null}}},locations:{province:null,city:null,area:null,citys:"全国"},list:null,count:null,search:{industry:null,salary:null,publish:0,schooling:null,working:null,nature:null,size:null,type:null,value:null,count:!0,page:1,limit:10},city:{show:!1,options:l.default},showlist:!1}},onShow:function(){this.$store.commit("SET_LTABBAR","job"),this.showlist=!0,this.getJob()},onReady:function(){this.ready=!0},onLoad:function(e){t.hideTabBar(),e.search&&(this.search.value=e.search)},onPullDownRefresh:function(){this.refresher(),t.stopPullDownRefresh()},onReachBottom:function(){this.refresher()},methods:{getJob:function(){var t=this.search,e=this,i=this.address,l=this.showlist,s=Object.assign({},{count:t.count,page:l?1:t.page,limit:l?10*t.page:t.limit},t.industry?{industry:t.industry}:{},t.salary?{salary:t.salary}:{},t.publish&&t.publish>0?{publish:t.publish}:{},t.schooling&&t.schooling>0?{schooling:t.schooling}:{},t.working&&t.working>0?{working:t.working}:{},t.nature&&t.nature>0?{nature:t.nature}:{},t.size&&t.size>0?{size:t.size}:{},t.type?{type:t.type}:{},t.value?{value:t.value}:{},i.province?{province:i.province}:{},i.city?{city:i.city}:{},i.area?{area:i.area}:{});(0,n.getJob)(s).then(function(t){var i=t.data;2e4===t.code?(e.count=i.list.count,e.list&&e.list.length>0&&!l?e.list=e.list.concat(i.list.rows):(l=!1,e.list=i.list.rows)):(0,h.$wuxToast)().show({type:"forbidden",text:"请求异常"})})},refresher:function(){var t=this;t.count>t.list.length?(t.search.page=t.search.page++,this.getJob()):((0,h.$wuxToast)().hide(),(0,h.$wuxToast)().show({type:"forbidden",text:"已加载全部"}))},editCity:function(t){var e=this.locations,i=t.detail.options.map(function(t){return t.label}),n=t.detail.options.map(function(t){return t.label});1===n.length?e.citys=i[0]:2===n.length?e.citys=i[1]:3===n.length&&(e.citys=i[2]),e.province=n[0],e.city=n[1],e.area=n[2],this.$store.commit("SET_ADDRESS",e),this.list=null,this.getJob()},salary:function(t){this.filter.salary.value=t.detail.value[0]},onClickNav:function(t){this.filter.industry.active=t.detail.index},onClickItem:function(t){this.search.industry=t.detail.id;var e=this.filter;e.industry.show=!1,e.active=null,e.industry.id=t.detail.id,e.industry.text=t.detail.text,this.list=null,this.getJob()},onChange:function(t){var e=t.detail,i=this.filter;i.active=e,i.industry.show=0===e,i.salary.show=1===e,i.publish.show=2===e,i.more.show=3===e},filterClose:function(t){var e;"industry"===t?e=this.filter.industry:"salary"===t?e=this.filter.salary:"publish"===t?e=this.filter.publish:"more"===t&&(e=this.filter.more),e.show=!1,this.filter.active=null},filterClick:function(t,e,i){var n;"publish"===i?n=this.filter.publish:"schooling"===i?n=this.filter.more.schooling:"working"===i?n=this.filter.more.working:"nature"===i?n=this.filter.more.nature:"size"===i?n=this.filter.more.size:"type"===i&&(n=this.filter.more.type),n.text=t,n.id=e},upPublish:function(){var t=this.filter;this.search.publish=t.publish.id?t.publish.id:0,t.active=null,t.publish.show=!1,this.list=null,this.getJob()},upMore:function(){var t=this.filter,e=this.search;e.schooling=t.more.schooling.id,e.working=t.more.working.id,e.nature=t.more.nature.id,e.size=t.more.size.id,e.type=t.more.type.id,t.active=null,t.more.show=!1,this.list=null,this.getJob()},upSalary:function(){var t=this.filter;this.search.salary=1e3*t.salary.value,t.active=null,t.salary.show=!1,this.list=null,this.getJob()},detailTo:function(e){t.navigateTo({url:"/pages/job/detail?id="+e})},getSearch:function(t){this.search.value=t.detail,this.list=null,this.getJob()}}};e.default=p}).call(this,i("6e42")["default"])},b296:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=(t._self._c,t.filter.industry.text.substr(0,4)),n=t._f("publish")(t.search.publish),l=t.__map(t.list,function(e,i){var n=parseFloat(e.salarystart.toString().length),l=parseFloat(e.salaryend.toString().length),s=t._f("numFilter")(e.salarystart/1e4),r=t._f("numFilter")(e.salaryend/1e4),o=parseFloat(e.salarystart.toString().length),a=parseFloat(e.salaryend.toString().length),u=t._f("nature")(e.company.nature),c=t._f("workings")(e.working?e.working:0),h=t._f("schooling2")(e.schooling?e.schooling:0);return{$orig:t.__get_orig(e),m0:n,m1:l,f1:s,f2:r,m2:o,m3:a,f3:u,f4:c,f5:h}});t._isMounted||(t.e0=function(e){t.city.show=!0},t.e1=function(e){t.city.show=!1}),t.$mp.data=Object.assign({},{$root:{g0:i,f0:n,l0:l}})},l=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return l})},cebb:function(t,e,i){"use strict";i.r(e);var n=i("5f34"),l=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);e["default"]=l.a},d2eb:function(t,e,i){"use strict";(function(t){i("dc02"),i("921b");n(i("66fd"));var e=n(i("f97d"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("6e42")["createPage"])},df5e:function(t,e,i){},f97d:function(t,e,i){"use strict";i.r(e);var n=i("b296"),l=i("cebb");for(var s in l)"default"!==s&&function(t){i.d(e,t,function(){return l[t]})}(s);i("0b17");var r=i("2877"),o=Object(r["a"])(l["default"],n["a"],n["b"],!1,null,"f1a56d4a",null);e["default"]=o.exports}},[["d2eb","common/runtime","common/vendor"]]]);