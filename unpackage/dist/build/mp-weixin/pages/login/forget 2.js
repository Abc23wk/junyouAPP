(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/forget"],{"124b":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement;e._self._c},d=[];n.d(t,"a",function(){return o}),n.d(t,"b",function(){return d})},"2ef9":function(e,t,n){"use strict";n.r(t);var o=n("3bdc"),d=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);t["default"]=d.a},"3bdc":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("2991"),d=n("73ad"),a={data:function(){return{codes:{state:!0,add:!0,text:"发送验证码",time:"60秒"},form:{phone:null,pwd:null,pwds:null,code:null}}},onLoad:function(e){},methods:{onChange:function(e){var t=this.form,n=e.target.id,o=e.detail,d=/\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFF]/g;"phone"===n?t.phone=o.replace(d,""):"pwd"===n?t.pwd=o.replace(d,""):"pwds"===n?t.pwds=o.replace(d,""):"code"===n&&(t.code=parseFloat(o.replace(d,"")))},onSubmit:function(){var t=this,n=this.form;if(!n.phone)return this.forbiddenToast("手机未填写"),!1;if(11!==n.phone.length)return this.forbiddenToast("手机号错误"),!1;if(!n.pwd)return this.forbiddenToast("新密码未填"),!1;if(!n.pwds)return this.forbiddenToast("在一次输入密码"),!1;if(n.pwd!==n.pwds)return this.forbiddenToast("输入密码不一致"),!1;var a=Object.assign({},n.phone?{phone:n.phone}:{},n.pwd?{pwd:n.pwd}:{},n.code?{code:n.code}:{});(0,o.upLoginPwd)(a).then(function(n){var o=n.data;2e4===n.code?o.register?(t.$store.dispatch("appLogin",{token:o.token,register:o.register,member:o.member}),(0,d.$wuxToast)().show({type:"success",text:"修改成功"}),setTimeout(function(){e.switchTab({url:"/pages/index/index"})},1e3)):(0,d.$wuxToast)().show({type:"forbidden",text:"验证码错误"}):(0,d.$wuxToast)().show({type:"forbidden",text:"请求异常"})})},forbiddenToast:function(e){(0,d.$wuxToast)().show({type:"forbidden",text:e})},addCode:function(){this.codes.add?(this.codes.add=!1,this.vcode()):(0,d.$wuxToast)().show({type:"forbidden",text:"验证码已发送"})},getPwdCode:function(){var e=this.form;(0,o.getPwdCode)({phone:e.phone}).then(function(e){var t=e.data;2e4===t.code&&t.state&&(0,d.$wuxToast)().show({type:"success",text:"验证码已发送"})})},vcode:function(){var e=this.form;if(!e.phone)return this.forbiddenToast("手机未填写"),!1;if(this.codes.state){this.getPwdCode();var t=this;this.codes.state=!1,new d.$wuxCountDown({date:+new Date+6e4,onEnd:function(){t.codes.state=!0,t.codes.add=!0,t.codes.text="重新获取验证码",t.codes.time="60秒"},render:function(e){var n=this.leadingZeros(e.sec,2)+" 秒 ";0!==e.sec&&(t.codes.time=n)}})}},navigateBack:function(){e.navigateBack()}}};t.default=a}).call(this,n("543d")["default"])},5642:function(e,t,n){"use strict";n.r(t);var o=n("124b"),d=n("2ef9");for(var a in d)"default"!==a&&function(e){n.d(t,e,function(){return d[e]})}(a);n("9276");var i=n("2877"),s=Object(i["a"])(d["default"],o["a"],o["b"],!1,null,"84f3584c",null);t["default"]=s.exports},9276:function(e,t,n){"use strict";var o=n("da93"),d=n.n(o);d.a},adb0:function(e,t,n){"use strict";(function(e){n("dc02"),n("921b");o(n("66fd"));var t=o(n("5642"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},da93:function(e,t,n){}},[["adb0","common/runtime","common/vendor"]]]);