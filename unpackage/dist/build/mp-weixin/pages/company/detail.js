(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/company/detail"],{"29e5":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=(t._self._c,t._f("nature")(t.detail.nature)),a=t._f("size")(t.detail.size),s=t._f("industry")(t.detail.industry),o=t.__map(t.job.list,function(e,i){var a=parseFloat(e.salarystart.toString().length),s=parseFloat(e.salaryend.toString().length),o=t._f("numFilter")(e.salarystart/1e4),n=t._f("numFilter")(e.salaryend/1e4),r=parseFloat(e.salarystart.toString().length),c=parseFloat(e.salaryend.toString().length);return{$orig:t.__get_orig(e),m0:a,m1:s,f3:o,f4:n,m2:r,m3:c}});t.$mp.data=Object.assign({},{$root:{f0:i,f1:a,f2:s,l0:o}})},s=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return s})},"3ce8":function(t,e,i){},"4ed2":function(t,e,i){"use strict";i.r(e);var a=i("29e5"),s=i("f0c6");for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);i("717d");var n=i("2877"),r=Object(n["a"])(s["default"],a["a"],a["b"],!1,null,"619a5542",null);e["default"]=r.exports},"717d":function(t,e,i){"use strict";var a=i("3ce8"),s=i.n(a);s.a},"7f7b":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,s=i("b86b"),o=i("73ad"),n=r(i("0db8"));function r(t){return t&&t.__esModule?t:{default:t}}var c={data:function(){return{det:!0,focus:!1,active:0,detail:{nature:1,size:1,schooling:1},job:{list:null,count:null,search:{count:!0,page:1,limit:10}},archives:{list:null,search:{arctype:1,page:1,limit:5}}}},onShow:function(){this.$store.getters.register&&this.detail.id&&(this.getFocus(),this.$store.getters.member.ac<2&&this.$store.dispatch("MemberAC"))},onLoad:function(t){"stop"===t.det&&(this.det=!1),this.getCompanyDetail(t.id),this.getArchives(),a=new n.default({key:"I3ABZ-QPZW3-JIP3T-3AVMR-TRALT-77BFQ"})},methods:{getCompanyDetail:function(t){var e=this;(0,s.getCompanyDetail)({id:t}).then(function(t){var i=t.data;2e4===t.code?(e.detail=i.detail,e.$store.getters.register&&e.detail.id&&e.getFocus()):(0,o.$wuxToast)().show({type:"forbidden",text:"请求异常"})})},onClick:function(t){"公司简介"!==t.detail.title||this.job.list?this.active=0:(this.active=1,this.getJob())},getJob:function(){var t=this.job.search,e=this.job;(0,s.getJob)({companyid:this.detail.id,count:t.count,page:t.page,limit:t.limit}).then(function(t){var i=t.data;2e4===t.code?(e.count=i.list.count,e.list&&e.list.length>0?e.list=e.list.concat(i.list.rows):e.list=i.list.rows):(0,o.$wuxToast)().show({type:"forbidden",text:"请求异常"})})},refresher:function(){if(this.active=1){var t=this.job;t.count>t.list.length?(t.search.page=t.search.page++,this.getJob()):(0,o.$wuxToast)().show({type:"forbidden",text:"已加载全部"})}},detailTo:function(e,i){1===i?t.navigateTo({url:"/pages/company/detail?det=stop&id="+e}):2===i?t.navigateTo({url:"/pages/job/detail?det=stop&id="+e}):3===i&&t.navigateTo({url:"/pages/article/detail?id="+e})},getFocus:function(){var t=this;(0,s.getFocus)({id:this.detail.id}).then(function(e){var i=e.data;2e4===e.code?t.focus=i.detail:(0,o.$wuxToast)().show({type:"forbidden",text:"请求异常"})})},addFocus:function(e){var i=this;this.$store.getters.register?(0,s.addFocus)({id:this.detail.id}).then(function(t){var e=t.data;2e4===t.code&&e.add?(i.focus=!0,(0,o.$wuxToast)().show({type:"success",text:"关注成功"})):2e4===t.code&&e.detail?(i.focus=!0,(0,o.$wuxToast)().show({type:"success",text:"已关注"})):(0,o.$wuxToast)().show({type:"forbidden",text:"请求异常"})}):t.navigateTo({url:"/pages/login/wx"})},delFocus:function(e){var i=this;this.$store.getters.register?(0,s.delFocus)({id:this.detail.id}).then(function(t){var e=t.data;2e4===t.code&&e.del?(i.focus=!1,(0,o.$wuxToast)().show({type:"success",text:"已取消关注"})):(0,o.$wuxToast)().show({type:"forbidden",text:"请求异常"})}):t.navigateTo({url:"/pages/login/wx"})},getArchives:function(){var t=this.archives;(0,s.getArchives)(t.search).then(function(e){var i=e.data;2e4===e.code?t.list=i.list:(0,o.$wuxToast)().show({type:"forbidden",text:"请求异常"})})},openMap:function(){var e=this.detail;a.geocoder({address:e.province+e.city+e.area+e.info.address,success:function(e){var i=e.result.location;t.openLocation({latitude:i.lat,longitude:i.lng,success:function(){console.log("success")}})}})}}};e.default=c}).call(this,i("543d")["default"])},c24f:function(t,e,i){"use strict";(function(t){i("dc02"),i("921b");a(i("66fd"));var e=a(i("4ed2"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("543d")["createPage"])},f0c6:function(t,e,i){"use strict";i.r(e);var a=i("7f7b"),s=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=s.a}},[["c24f","common/runtime","common/vendor"]]]);